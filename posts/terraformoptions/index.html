<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>My New Hugo Site</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Configuration Terraform Options:
Ensure you review the dependencies.
1. OCI Provider parameters Parameter Description Values Default api_fingerprint
ssl fingerprint of api public key. Maybe required depending on your authentication method.
none
api_private_key
The contents of the private key file to use with OCI API. This takes precedence over private_key_path if both are specified in the provider. Maybe required depending on your authentication method. Use the heredoc format if you are specifying the key with this variable."><meta name=generator content="Hugo 0.101.0"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/test-hugo/ananke/css/main.min.css><meta property="og:title" content><meta property="og:description" content="Configuration Terraform Options:
Ensure you review the dependencies.
1. OCI Provider parameters Parameter Description Values Default api_fingerprint
ssl fingerprint of api public key. Maybe required depending on your authentication method.
none
api_private_key
The contents of the private key file to use with OCI API. This takes precedence over private_key_path if both are specified in the provider. Maybe required depending on your authentication method. Use the heredoc format if you are specifying the key with this variable."><meta property="og:type" content="article"><meta property="og:url" content="https://hyder.github.io/test-hugo/posts/terraformoptions/"><meta property="article:section" content="posts"><meta itemprop=name content><meta itemprop=description content="Configuration Terraform Options:
Ensure you review the dependencies.
1. OCI Provider parameters Parameter Description Values Default api_fingerprint
ssl fingerprint of api public key. Maybe required depending on your authentication method.
none
api_private_key
The contents of the private key file to use with OCI API. This takes precedence over private_key_path if both are specified in the provider. Maybe required depending on your authentication method. Use the heredoc format if you are specifying the key with this variable."><meta itemprop=wordCount content="3078"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Configuration Terraform Options:
Ensure you review the dependencies.
1. OCI Provider parameters Parameter Description Values Default api_fingerprint
ssl fingerprint of api public key. Maybe required depending on your authentication method.
none
api_private_key
The contents of the private key file to use with OCI API. This takes precedence over private_key_path if both are specified in the provider. Maybe required depending on your authentication method. Use the heredoc format if you are specifying the key with this variable."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/test-hugo/ class="f3 fw2 hover-white no-underline white-90 dib">My New Hugo Site</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1"></h1></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><div id=preamble><div class=sectionbody><div class=paragraph><p>Configuration Terraform Options:</p></div><div class=paragraph><p>Ensure you review the <a href=https://github.com/oracle-terraform-modules/terraform-oci-oke/blob/main/docs/dependencies.adoc>dependencies</a>.</p></div></div></div><div class=sect1><h2 id=oci-provider-parameters><a class=link href=#oci-provider-parameters>1. OCI Provider parameters</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>api_fingerprint</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>ssl fingerprint of api public key. <strong>Maybe required depending on your authentication method.</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>api_private_key</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The contents of the private key file to use with OCI API. This takes precedence over private_key_path if both are specified in the provider. <strong>Maybe required depending on your authentication method.</strong> Use the heredoc format if you are specifying the key with this variable.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>&lt;&lt;EOT
-----BEGIN RSA PRIVATE KEY-----
content+of+api+key
-----END RSA PRIVATE KEY-----
EOT</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>api_private_key_password</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The corresponding private key password to use with the api private key if it is encrypted. <strong>Maybe required depending on your authentication method.</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>api_private_key_path</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The path to the OCI API private key. <strong>Maybe required depending on your authentication method.</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>home_region</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The tenancy’s home region. Required to perform identity operations. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>region = "us-ashburn-1"</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>region</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The OCI region where OKE resources will be created. Please select from <a href=https://docs.cloud.oracle.com/iaas/Content/General/Concepts/regions.htm>list of regions</a>. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>region = "ap-sydney-1"</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>tenancy_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The tenancy id of the OCI Cloud Account in which to create the resources. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>user_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The id of the user that terraform will use to create the resources. <strong>Maybe required depending on your authentication method.</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=general-oci><a class=link href=#general-oci>2. General OCI</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>compartment_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Compartment id where the OKE Cluster will be provisioned. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>label_prefix</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>a string to be prepended to the name of resources. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=ssh-keys><a class=link href=#ssh-keys>3. SSH Keys</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ssh_private_key</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The contents of the private ssh key file. Use the heredoc format if you are specifying the private key.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>&lt;&lt;EOT
-----BEGIN RSA PRIVATE KEY-----
content+of+api+key
-----END RSA PRIVATE KEY-----
EOT</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ssh_private_key_path</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>path to ssh private key. The same key will be used to access worker nodes using SSH. <strong>Required</strong> if bastion is enabled.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ssh_public_key_path</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>path to ssh public key. The same key will be used to access worker nodes using SSH. <strong>Required</strong> if bastion is enabled.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ssh_public_key</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The contents of the ssh public key. The same key will be used to access worker nodes using SSH. <strong>Required</strong> if bastion is enabled.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=oci-networking><a class=link href=#oci-networking>4. OCI Networking</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_drg</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create Dynamic Routing Gateway. If set to true, creates a Dynamic Routing Gateway and attach it to the VCN.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>true/false</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>false</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>drg_display_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(Updatable) Name of Dynamic Routing Gateway. Does not have to be unique.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>""</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>drg</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>enable_waf</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to enable WAF monitoring of load balancers</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>true/false</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>internet_gateway_route_rules</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(Updatable) List of routing rules to add to Internet Gateway Route Table.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[
{
destination = "192.168.0.0/16"
destination_type = "CIDR_BLOCK"
network_entity_id = "drg"
description = "Terraformed"
},
]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[]</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>local_peering_gateways</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Map of Local Peering Gateways to attach to the VCN.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>to_spoke2 = {
route_table_id = ""
peer_id = ""
}</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>{}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>lockdown_default_seclist</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to remove all default security rules from the VCN Default Security List.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>true/false</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>true</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>nat_gateway_route_rules</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>(Updatable) List of routing rules to add to Internet Gateway Route Table.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[
{
destination = "192.168.0.0/16"
destination_type = "CIDR_BLOCK"
network_entity_id = "drg"
description = "Terraformed"
},
]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[]</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>nat_gateway_public_ip_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>OCID of reserved IP address for NAT gateway. The reserved public IP address needs to be manually created. When value is "none", no reserved IP address is used and an ephemeral public IP address is selected from the Oracle pool.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>"none"</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>subnets</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>parameters to cidrsubnet function to calculate subnet masks within the VCN. The values of the map are used as the netnum parameter in the <a href=https://www.terraform.io/docs/configuration/functions/cidrsubnet.html>cidrsubnet</a> Terraform function. CIDR blocks for workers and load balancer subnets must not overlap with the CIDR blocks for Kubernetes pods (specified with <em>pods_cidr</em> parameter).</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.
subnets = {
bastion = { netnum = 0, newbits = 13 }
operator = { netnum = 1, newbits = 13 }
cp = { netnum = 2, newbits = 13 }
int_lb = { netnum = 16, newbits = 11 }
pub_lb = { netnum = 17, newbits = 11 }
workers = { netnum = 1, newbits = 2 }
pods = { netnum = 2, newbits = 2 }
fss = { netnum = 18, newbits = 11 }
}</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>subnets = {
bastion = { netnum = 0, newbits = 13 }
operator = { netnum = 1, newbits = 13 }
cp = { netnum = 2, newbits = 13 }
int_lb = { netnum = 16, newbits = 11 }
pub_lb = { netnum = 17, newbits = 11 }
workers = { netnum = 1, newbits = 2 }
pods = { netnum = 2, newbits = 2 }
fss = { netnum = 18, newbits = 11 }
}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>vcn_cidrs</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The list of IPv4 CIDR blocks the VCN will use. The CIDR block specified for the VCN must not overlap with the CIDR block specified for the Kubernetes services (specified with <em>services_cidr</em> parameter). The first CIDR block will be used for all the network resources created by this module e.g. bastion, operator, worker subnets.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>10.0.0.0/16</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>vcn_dns_label</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The internal DNS domain for resources created and prepended to "oraclevcn.com" which is the VCN-internal domain name. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>oke</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>vcn_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the VCN that will be appended to the label_prefix.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>oke-vcn</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=reuse-vcn><a class=link href=#reuse-vcn>5. Reuse VCN</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_vcn</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create the VCN.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>vcn_display_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Existing VCN display name where the resources will be created.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>vcn_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Existing VCN OCID where the resources will be created</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ig_route_table_display_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Existing Internet Gateway route table display name</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>ig_route_table_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Existing Internet Gateway route table OCID</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>nat_route_table_display_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Existing NAT Gateway route table OCID</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>nat_route_table_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Existing NAT Gateway route table OCID</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table></div></div><div class=sect1><h2 id=bastion-host><a class=link href=#bastion-host>6. Bastion Host</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_bastion_host</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create the bastion host.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_access</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>CIDR block in the form of a string to which ssh access to the bastion must be restricted to. <strong><em>ANYWHERE</em></strong> is equivalent to 0.0.0.0/0 and allows ssh access from anywhere.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>XYZ.XYZ.XYZ.XYZ/YZ</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>ANYWHERE</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_image_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Custom image id for the bastion host</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>image_id or Autonomous. If the value is set to 'Autonomous', an Oracle Autonomous Linux Platform image will be used instead. If you want to use a custom image, set the image id instead.</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Autonomous</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_os_version</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>In case Autonomous Linux is used, allow specification of Autonomous version.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>7.9</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>7.9</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_shape</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The shape of bastion instance. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>bastion_shape = {
shape = "VM.Standard.E3.Flex",
ocpus = 1,
memory = 4,
boot_volume_size = 50
}</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_state</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The target state for the bastion instance. Could be set to RUNNING or STOPPED. (Updatable)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUNNING/STOPPED</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUNNING</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_timezone</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The preferred timezone for the bastion host. <a href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>List of timezones</a>. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Etc/UTC</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_type</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to make the bastion host public or private.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>public/private</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>public</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>upgrade_bastion</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to also upgrade the packages on the bastion host.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>enable_bastion_notification</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to enable ONS notification for the bastion host.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>bastion_notification_endpoint</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The subscription notification endpoint. Email address to be notified. Only email is currently supported although ONS can also support Slack, Pagerduty among others.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>"none"</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>bastion_notification_protocol</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The notification protocol used.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>EMAIL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>EMAIL</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>bastion_notification_topic</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the notification topic</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=oci-bastion-service><a class=link href=#oci-bastion-service>7. OCI Bastion Service</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_bastion_service</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create a bastion service that allows access to private hosts.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_service_access</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A list of CIDR blocks to which ssh access to the bastion service must be restricted. <strong>anywhere</strong> is equivalent to 0.0.0.0/0 and allows ssh access from anywhere.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>["0.0.0.0/0"]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>["0.0.0.0/0"]</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_service_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the bastion service.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>bastion_service_target_subnet</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the subnet that the bastion service can connect to.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>"operator"</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>"operator"</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=operator-host><a class=link href=#operator-host>8. Operator Host</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_operator</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create the operator host.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>enable_operator_pv_encryption_in_transit</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to encrypt data in transit between the instance, the boot volume, and the block volumes in Operator.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>operator_image_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Custom image id for the operator host</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>image_id or Oracle. If the value is set to Oracle, an Oracle Platform image will be used instead.</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Oracle</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_nsg_ids</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>An optional and updatable list of network security groups that the operator will be part of.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[]</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_os_version</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The Oracle Linux version to use for the operator host.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g. 7.9, 8</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>8</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_shape</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The shape of operator instance. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_shape = {
# shape = "VM.Standard.E2.2"
shape = "VM.Standard.E3.Flex",
ocpus = 1,
memory = 4,
boot_volume_size = 50
}</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_state</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The target state for the operator instance. Could be set to RUNNING or STOPPED. (Updatable)</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUNNING/STOPPED</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>RUNNING</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_volume_kms_id</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The id of the OCI KMS key to be used as the master encryption key for Operator’s boot volume/block volume encryption..</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>ocid1.key.oc1…​.</code></code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_timezone</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The preferred timezone for the operator host. <a href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>List of timezones</a>. <strong>Required</strong></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g. Etc/UTC</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Etc/UTC</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>upgrade_operator</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to also upgrade the packages for the operator host.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>enable_operator_notification</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to enable ONS notification for the operator host. <strong>Do not enable for now</strong>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_notification_endpoint</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The subscription notification endpoint. Email address to be notified. Only email is currently supported although ONS can also support Slack, Pagerduty among others.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_notification_protocol</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The notification protocol used.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>EMAIL</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>EMAIL</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>operator_notification_topic</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the notification topic</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>operator</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=availability-domain><a class=link href=#availability-domain>9. Availability Domain</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>availability_domains</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The Availability Domain where to provision non-OKE resources e.g. bastion host. This is specified in the form of a map.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.
<code>availability_domains = {
bastion = 1
operator = 1
}</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>availability_domains = {
bastion = 1
operator = 1
}</code></code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=tagging><a class=link href=#tagging>10. Tagging</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>freeform_tags</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Tagging on the . This is specified in the form of a map of maps.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.
<code>freeform_tags = {
vcn = {
environment = "dev"
}
bastion = {
environment = "dev"
role = "bastion"
}
operator = {
environment = "dev"
role = "operator"
}
oke = {
service_lb = {
environment = "dev"
role = "load balancer"
}
}
}</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>freeform_tags = {
vcn = {
environment = "dev"
}
bastion = {
environment = "dev"
role = "bastion"
}
operator = {
environment = "dev"
role = "operator"
}
oke = {
service_lb = {
environment = "dev"
role = "load balancer"
}
}
}</code></code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=oke><a class=link href=#oke>11. OKE</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>admission_controller_options</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Various Admission Controller options</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.
<code>admission_controller_options = {
PodSecurityPolicy = true
}</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>admission_controller_options = {
PodSecurityPolicy = true
}</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>allow_node_port_access</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to allow access to NodePort services when worker nodes are deployed in public mode.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>allow_pod_internet_access</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Allow pods to egress to internet. Required if the pods are invoking Internet services.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>allow_worker_internet_access</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to allow access to NodePorts when worker nodes are deployed in public mode..</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>allow_worker_ssh_access</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to allow ssh access to worker nodes. Even if worker nodes are deployed in public mode, ssh access to worker nodes requires going through the bastion host.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cluster_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the OKE cluster. This will be appended to the label_prefix.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>oke</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cni_type</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The CNI for the cluster. Choose between flannel or npn (Native Pod Networking).</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>flannel/npn</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>flannel</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>control_plane_type</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to allow public or private access to the control plane endpoint.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>public/private</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>public</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>control_plane_allowed_cidrs</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The list of CIDR blocks from which the control plane can be accessed.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>[0.0.0.0/0]</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>[]</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>control_plane_nsgs</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>An additional list of network security groups (NSG) ids for the cluster endpoint that can be created subsequently.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>["ocid1.networksecuritygroup.oc1…​.","ocid1.networksecuritygroup.oc1…​."]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[]</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>dashboard_enabled</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create the default Kubernetes dashboard.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>kubernetes_version</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The version of Kubernetes to provision. This is based on the available versions in OKE. By default, the latest version is selected. The use of 'LATEST' is no longer permitted in order to facilitate upgrades.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>v1.20.8, v1.20.11, v1.21.5, v1.22.5, v1.23.4,</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>v1.23.4</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>pods_cidr</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The CIDR for the Kubernetes POD network for flannel networking. CIDR blocks for pods must not overlap with the CIDR blocks for workers and load balancer subnets (calculated using vcn_cidr, newbits and subnets parameters).</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>10.244.0.0/16</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>services_cidr</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The CIDR for the Kubernetes services network. The CIDR block specified for the Kubernetes services must not overlap with the CIDR block specified for the VCN CIDR.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>10.96.0.0/16</code></code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=kms-integration><a class=link href=#kms-integration>12. KMS integration</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>use_cluster_encryption</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to use <a href=https://docs.cloud.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm>OCI KMS</a> to encrypt secrets.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cluster_kms_key_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The id of the OCI KMS key to be used as the master encryption key for encrypting Kubernetes' etcd . <strong>Required</strong> if <em>use_cluster_encryption</em> is set to <strong>true</strong></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_policies</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Whether to create dynamic group for cluster with policies to access <a href=https://docs.cloud.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm>OCI KMS</a> when using encryption.</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>true</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>use_node_pool_volume_encryption</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Whether to use <a href=https://docs.cloud.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm>OCI KMS</a> to encrypt Kubernetes Nodepool’s boot/block volume.</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>false</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pool_volume_kms_key_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>The id of the OCI KMS key to be used as the master encryption key for nodepools boot volume/block volume encryption..</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>ocid1.key.oc1…​.</code></code></p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>enable_pv_encryption_in_transit</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Whether to encrypt data in transit between the instance, the boot volume, and the block volumes.</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>false</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>use_signed_images</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Whether to enforce the use of signed images. If set to true, at least 1 RSA key must be provided through image_signing_keys.</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>false</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>image_signing_keys</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>A list of KMS key ids used by the worker nodes to verify signed images. The keys must use RSA algorithm. <strong>Required</strong> if <em>use_signed_images</em> is set to <strong>true</strong></code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=node-pools><a class=link href=#node-pools>13. Node pools</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>check_node_active</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Setting this variable to <strong>one</strong> will wait till any one worker node is active.Setting to <strong>all</strong> will wait till all worker node is active.<strong>none</strong> means no check.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>one,all,none</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>max_pods_per_node</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The maximum number of pods to deploy per node. Absolute maximum is 110. Applies only when CNI type is <code>npn</code>.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>31</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pools</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The number, shape of node pools and node_pool_size to create. Each key and tuple pair corresponds to 1 node pool.</p><p class=tableblock>Refer to <a href=https://github.com/oracle-terraform-modules/terraform-oci-oke/blob/main/docs/topology.adoc>topology</a> for more thorough examples.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.</code></p><p class=tableblock><code>node_pools = {
np1 = { shape = "VM.Standard.E4.Flex", ocpus = 1, memory = 16, node_pool_size = 1, boot_volume_size = 150, label = { app = "frontend", pool = "np1" } }
np2 = {shape="VM.Standard.E2.2",node_pool_size=2,boot_volume_size=150,label={app="application",name="test"}}
np3 = {shape="VM.Standard.E2.2",node_pool_size=1}
}</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pools = {
np1 = {shape="VM.Standard.E3.Flex",ocpus=2,node_pool_size=2,boot_volume_size=150}
np2 = {shape="VM.Standard.E2.2",node_pool_size=2,boot_volume_size=150,label={app="application",name="test"}}
np3 = {shape="VM.Standard.E2.2",node_pool_size=1}
}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pool_image_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The OCID of custom image to use when provisioning worker nodes. When no OCID is specified, the worker nodes will use the node_pool_os and node_pool_os_version to identify an image to provision the worker nodes.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>"none"</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pool_image_type</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to use a Platform, OKE or custom image. When custom is set, the node_pool_image_id <strong>must</strong> be specified. Using an OKE image minimizes the time it takes to provision worker nodes at runtime when compared to platform images and custom images. OKE images are optimized for use as worker node base images, with all the necessary configurations and required software. The use of OKE images reduces worker node provisioning time by more than half when compared to platform images. OKE images are provided by Oracle and built on top of platform images.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>"custom","oke","platform"</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>"oke"</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pool_os</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the Operating System image to use to provision the worker nodes.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Oracle Linux</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pool_os_version</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The corresponding version of the Operating System image to use to provision the worker nodes.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>7.9</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cloudinit_nodepool_common</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>cloud-init common for all nodepools when no specific script mentioned for nodepool in cloudinit_nodepool.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.: <code>"/tmp/commoncloudinit.sh"</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>""</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>cloudinit_nodepool</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>cloud-init specific to nodepool to override cloudinit_nodepool_common.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.: <code>cloudinit_nodepool = {
np2 = "/tmp/np2cloudinit.sh"
}</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>{}</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pool_timezone</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The preferred timezone for the worker nodes. <a href=https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>List of timezones</a>.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>Etc/UTC</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>worker_nsgs</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>An additional list of network security groups (NSG) ids for the worker nodes that can be created subsequently.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>["ocid1.networksecuritygroup.oc1…​.","ocid1.networksecuritygroup.oc1…​."]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>[]</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>worker_type</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether the worker nodes should be public or private. Private requires NAT gateway.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>private/public</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>private</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=file-storage><a class=link href=#file-storage>14. File Storage</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_fss</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create File storage or not.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>fss_mount_path</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>File storage mount path to be associated.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/oke_fss</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>/oke_fss</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>max_fs_stat_bytes</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Maximum tbytes, fbytes, and abytes, values reported by NFS FSSTAT calls through any associated mount targets.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>23843202333</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>23843202333</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>max_fs_stat_files</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Maximum tfiles, ffiles, and afiles values reported by NFS FSSTAT.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>223442</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>223442</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=upgrade-cluster><a class=link href=#upgrade-cluster>15. Upgrade cluster</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>upgrade_nodepool</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to drain a node pool.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pools_to_drain</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The list of node pools to drain. Only takes effect when <code>upgrade_nodepool</code> is <code>true</code>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>["np1", "np2"]</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>nodepool_upgrade_method</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The nodepool upgrade method. Can be either in-place or out-of-place. <strong>Only out-of-place currently supported in this release</strong>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>in-place/out-of-place</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>out-of-place</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>node_pool_name_prefix</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>A string prefixed to the node pool name.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>np</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=oke-load-balancers><a class=link href=#oke-load-balancers>16. OKE Load Balancers</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>load_balancers</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The type of load balancer subnets to create.</p><p class=tableblock>Even if you set the load balancer subnets to be internal, you still need to set the correct <a href=https://github.com/oracle/oci-cloud-controller-manager/blob/master/docs/load-balancer-annotations.md>annotations</a> when creating internal load balancers. Just setting this value to internal is <strong><em>not</em></strong> sufficient.</p><p class=tableblock>Refer to <a href=https://github.com/oracle-terraform-modules/terraform-oci-oke/blob/main/docs/topology.adoc>topology</a> for more thorough examples.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>both, internal, public</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>public</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>preferred_load_balancer</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The preferred load balancer subnets that OKE will automatically choose when creating load balancers. If 'public' is chosen, the value for load_balancers must be either 'public' or 'both'. If 'private' is chosen, the value for load_balancers must be either 'internal' or 'both'.</p><p class=tableblock>Even if you set the load balancer subnets to be internal, you still need to set the correct <a href=https://github.com/oracle/oci-cloud-controller-manager/blob/master/docs/load-balancer-annotations.md>annotations</a> when creating internal load balancers. Just setting the subnet to be private is <strong><em>not</em></strong> sufficient.</p><p class=tableblock>Refer to <a href=https://github.com/oracle-terraform-modules/terraform-oci-oke/blob/main/docs/topology.adoc>topology</a> for more thorough examples.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>internal/public</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>public</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>internal_lb_allowed_cidrs</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The list of CIDR blocks from which the internal load balancer can be accessed.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>`e.g.: ["0.0.0.0/0"]</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>["0.0.0.0/0"]</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>internal_lb_allowed_ports</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>List of allowed ports for internal load balancers.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.: <code>[80, 443]</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>[80, 443]</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>public_lb_allowed_cidrs</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The list of CIDR blocks from which the public load balancer can be accessed.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.: <code>["0.0.0.0/0"]</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>["0.0.0.0/0"]</code></code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>public_lb_allowed_ports</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>List of allowed ports for public load balancers.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>e.g.: <code>[443]</code></code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code><code>[443]</code></code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=ocir><a class=link href=#ocir>17. OCIR</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>email_address</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The email address to be used when creating the Docker secret. <strong>Required</strong> if secret_id is set.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>secret_id</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The id of the Secret in Vault where the Auth Token is stored.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>secret_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Secret name in Kubernetes that will hold the authentication token</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>ocirsecret</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>secret_namespace</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The Kubernetes namespace for where the OCIR secret will be created</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>default</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>username</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The username that can login to the selected tenancy. This is different from tenancy_id. <strong>Required</strong> if secret_id is set.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>none</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=calico><a class=link href=#calico>18. Calico</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>enable_calico</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to install <a href=https://www.projectcalico.org/>Calico</a> as <a href=https://docs.projectcalico.org/getting-started/kubernetes/flannel/flannel>pod network policy</a>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>calico_version</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Version of <a href=https://www.projectcalico.org/>Calico</a> to install.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>3.19</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>3.19</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=kubernetes-metrics-server><a class=link href=#kubernetes-metrics-server>19. Kubernetes Metrics Server</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>enable_metric_server</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to install <a href=https://github.com/kubernetes-incubator/metrics-server>Kubernetes Metrics Server</a>. <strong>Required</strong> for <a href=https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/>Horizontal Pod Autoscaling</a>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>vpa</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to install <a href=https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler>Vertical Pod Autoscaler</a>. <strong>Requires</strong> <a href=https://github.com/kubernetes-incubator/metrics-server>Kubernetes Metrics Server</a>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>vpa_version</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>version of <a href=https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler>Vertical Pod Autoscaler</a>. <strong>Requires</strong> <a href=https://github.com/kubernetes-incubator/metrics-server>Kubernetes Metrics Server</a>.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>0.8</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=gatekeeper><a class=link href=#gatekeeper>20. Gatekeeper</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>enable_gatekeeper</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to install <a href=https://open-policy-agent.github.io/gatekeeper/website/docs/>Gatekeeper</a>.</p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>gatekeeeper_version</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>version of <a href=https://open-policy-agent.github.io/gatekeeper/website/docs/>Gatekeeper</a>.</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>3.7</code></p></td></tr></tbody></table></div></div><div class=sect1><h2 id=service-account><a class=link href=#service-account>21. Service Account</a></h2><div class=sectionbody><table class="tableblock frame-all grid-all stripes-odd stretch"><col style=width:11.1111%><col style=width:44.4444%><col style=width:22.2222%><col style=width:22.2223%><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Values</th><th class="tableblock halign-left valign-top">Default</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>create_service_account</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>Whether to create a service account. A service account is required for CI/CD. See <a href=https://docs.cloud.oracle.com/iaas/Content/ContEng/Tasks/contengaddingserviceaccttoken.htm class=bare>https://docs.cloud.oracle.com/iaas/Content/ContEng/Tasks/contengaddingserviceaccttoken.htm</a></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>true/false</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>false</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>service_account_name</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of service account to create</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>kubeconfigsa</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>service_account_namespace</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The Kubernetes namespace where to create the service account</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"><p class=tableblock><code>kube-system</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class=tableblock><code>service_account_cluster_role_binding</code></p></td><td class="tableblock halign-left valign-top"><p class=tableblock>The name of the cluster role binding for the service account</p></td><td class="tableblock halign-left valign-top"></td><td class="tableblock halign-left valign-top"></td></tr></tbody></table></div></div><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://hyder.github.io/test-hugo/>&copy; My New Hugo Site 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>